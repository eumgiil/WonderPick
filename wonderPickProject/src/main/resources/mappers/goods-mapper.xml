<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="goodsMapper">
  
  <resultMap id="goodsResultSet" type="goods">
  	<result column="board_no" property="boardNo" />
  	<result column="price" property="price" />
  	<result column="draft" property="draft" />
  	<result column="modify_count" property="modifyCount" />
  	<result column="workday" property="workday" />
  	<result column="add_draft" property="addDraft" />
  	<result column="add_modify" property="addModify" />
  	<result column="amount" property="amount" />
  	<result column="goods_category" property="goodsCategory" />
  	<result column="add_info" property="addInfo" />
  	<result column="member_no" property="memberNo" />
  	<result column="board_title" property="boardTitle" />
  	<result column="board_content" property="boardContent" />
  	<result column="crate_date" property="createDate" />
  	<result column="board_count" property="boardCount" />
  </resultMap>
  
  
  <select id="selectListCount" resultType="_int">
	 select
            *
     from
            board
	  where
	        status = 'Y'
	  and
	       board_type = 'G'
  </select>
  <select id="selectGoodsList" resultMap="goodsResultSet">
 select
       board_no, 
       board_title, 
       member_no, 
       board_count,
       to_char(create_date, 'YYYY-MM-DD') as "create_date" 
  from 
       	board b
 join 
      	member using (member_no)
 where
      	b.status = 'Y'
and 
       board_type ='G'
order 
	by
       board_no asc
  </select>
  <insert id="insertGoods" parameterType="goods">
  insert
    into
        goods
        
        (
        board_no,
        price,
        draft,
        modify_count,
        workday,
        add_draft,
        add_modify,
        goods_category
        )
    values
        (
        seq_board_no.nextval,
        #{price},
        #{draft},
        #{modifyCount},
        #{workday},
        #{addDraft},
        #{addModify},
        #{goodsCategory}
        )
  </insert>
  <insert id="insertGoods" parameterType="board">
  insert 
    into 
        board
         (
         board_no,
         member_no,
         board_title,
         board_content,
         board_type
         )
    values
         (
         seq_board_no.currval,
         #{boardNo},
         #{memberNo},
         #{boardTitle},
         #{boardContent},
         'G'
         )
  </insert>
  <insert id="insertGoods" parameterType="boardImage">
  insert
    into 
        board_image
        (
        board_img_no,
        board_no,
        origin_name,
        modify_name
        )
   values
        (
        seq_boardImg_no.nextval,
        seq_board_no.currval,
        #{originName},
        #{modifyName}
        )
  
  </insert>
  



</mapper>

